<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>maph: libusockets.h</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">maph<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-Performance Memory-Mapped Key-Value Database with O(1) Lookups</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d5/d6a/md_integrations_2rest__api_2__deps_2usockets-src_2misc_2manual.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">libusockets.h</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a>This is the only header you include. Following documentation has been extracted from this header. It may be outdated, go read the header directly for up-to-date documentation.</p>
<p>These interfaces are "beta" and subject to smaller changes. Last updated <b>2019-06-11</b>.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
A quick note on compilation</h1>
<p>Major differences in performance can be seen based solely on compiler and/or linker options. Important is to compile with some kind of link-time-optimization mode, preferably with static linking of this library such as including all C source files in the user program build step itself. Proper compilation and linking can lead to over 25% performance increase (in my case, YMMV).</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Cross-platform benchmarks</h1>
<p>While the library is compatible with many platforms, Linux in particular is the preferred production system. Benchmarking has been done on Windows, Linux and macOS where Linux clearly stood out as significant winner. Windows performed about half that of Linux and macOS was not much better than Windows. Do run your production systems on Linux.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
us_loop_t - The root per-thread resource and callback emitter</h1>
<div class="fragment"><div class="line"><span class="comment">/* Returns a new event loop with user data extension */</span></div>
<div class="line">WIN32_EXPORT <span class="keyword">struct </span><a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *<a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#abae3ddc5950d4fad0e258ff840da8bb4">us_create_loop</a>(<span class="keywordtype">void</span> *hint, <span class="keywordtype">void</span> (*wakeup_cb)(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop), <span class="keywordtype">void</span> (*pre_cb)(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop), <span class="keywordtype">void</span> (*post_cb)(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop), <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ext_size);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Frees the loop immediately */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#abcfa0614f874d65eab8faf4ab2183b02">us_loop_free</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Returns the loop user data extension */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> *<a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#aaa0e5e5871b4e793a64a22506e49aa6c">us_loop_ext</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Blocks the calling thread and drives the event loop until no more non-fallthrough polls are scheduled */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a65b2a596ef134e92e41c367ac6eff0e6">us_loop_run</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Signals the loop from any thread to wake up and execute its wakeup handler from the loop&#39;s own running thread.</span></div>
<div class="line"><span class="comment"> * This is the only fully thread-safe function and serves as the basis for thread safety */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a21040d424d7070e16eb5da0cbf8c10d8">us_wakeup_loop</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Hook up timers in existing loop */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#ae3167b5167971e1cd3d3abc47a054019">us_loop_integrate</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Returns the loop iteration number */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a009c11ded95a4546502ec24832c46e15">us_loop_iteration_number</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop);</div>
<div class="ttc" id="alibusockets_8h_html_a009c11ded95a4546502ec24832c46e15"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a009c11ded95a4546502ec24832c46e15">us_loop_iteration_number</a></div><div class="ttdeci">long long us_loop_iteration_number(struct us_loop_t *loop)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/db2/loop_8c_source.html#l00179">loop.c:179</a></div></div>
<div class="ttc" id="alibusockets_8h_html_a21040d424d7070e16eb5da0cbf8c10d8"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a21040d424d7070e16eb5da0cbf8c10d8">us_wakeup_loop</a></div><div class="ttdeci">void us_wakeup_loop(struct us_loop_t *loop)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/db2/loop_8c_source.html#l00053">loop.c:53</a></div></div>
<div class="ttc" id="alibusockets_8h_html_a65b2a596ef134e92e41c367ac6eff0e6"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a65b2a596ef134e92e41c367ac6eff0e6">us_loop_run</a></div><div class="ttdeci">void us_loop_run(struct us_loop_t *loop)</div></div>
<div class="ttc" id="alibusockets_8h_html_aaa0e5e5871b4e793a64a22506e49aa6c"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#aaa0e5e5871b4e793a64a22506e49aa6c">us_loop_ext</a></div><div class="ttdeci">void * us_loop_ext(struct us_loop_t *loop)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/db2/loop_8c_source.html#l00360">loop.c:360</a></div></div>
<div class="ttc" id="alibusockets_8h_html_abae3ddc5950d4fad0e258ff840da8bb4"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#abae3ddc5950d4fad0e258ff840da8bb4">us_create_loop</a></div><div class="ttdeci">struct us_loop_t * us_create_loop(void *hint, void(*wakeup_cb)(struct us_loop_t *loop), void(*pre_cb)(struct us_loop_t *loop), void(*post_cb)(struct us_loop_t *loop), unsigned int ext_size)</div></div>
<div class="ttc" id="alibusockets_8h_html_abcfa0614f874d65eab8faf4ab2183b02"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#abcfa0614f874d65eab8faf4ab2183b02">us_loop_free</a></div><div class="ttdeci">void us_loop_free(struct us_loop_t *loop)</div></div>
<div class="ttc" id="alibusockets_8h_html_ae3167b5167971e1cd3d3abc47a054019"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#ae3167b5167971e1cd3d3abc47a054019">us_loop_integrate</a></div><div class="ttdeci">void us_loop_integrate(struct us_loop_t *loop)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/db2/loop_8c_source.html#l00356">loop.c:356</a></div></div>
<div class="ttc" id="alibuv_8h_html_db/d76/structus__loop__t"><div class="ttname"><a href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a></div><div class="ttdef"><b>Definition</b> <a href="../../d4/d68/asio_8h_source.html#l00026">asio.h:26</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md4"></a>
us_socket_context_t - The per-behavior group of networking sockets</h1>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="../../d4/dcc/libusockets_8h.html#d1/de0/structus__socket__context__options__t">us_socket_context_options_t</a> {</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../d4/dcc/libusockets_8h.html#abc39444073939f7a20fdbff4553379cb">key_file_name</a>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../d4/dcc/libusockets_8h.html#a8b04b29aca965ebc89b7f4cdbf0fc5c9">cert_file_name</a>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../d4/dcc/libusockets_8h.html#aa644b50a71a40edf419452be6f103cde">passphrase</a>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../d4/dcc/libusockets_8h.html#aa66cc5cf9cf35ac6ea4f56180419aea0">dh_params_file_name</a>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../d4/dcc/libusockets_8h.html#a84deb7922916f0bc2c0c5e63a07cc7bb">ca_file_name</a>;</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="../../d4/dcc/libusockets_8h.html#a7c598eaa02a38fd5aaeb6367db429dc8">ssl_ciphers</a>;</div>
<div class="line">    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d4/dcc/libusockets_8h.html#a36c49d10c3039966a79d69ac9c2882e5">ssl_prefer_low_memory_usage</a>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* A socket context holds shared callbacks and user data extension for associated sockets */</span></div>
<div class="line">WIN32_EXPORT <span class="keyword">struct </span><a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *<a class="code hl_function" href="../../d8/dfa/context_8c.html#ac44f024cc626be2ff36816561740ea83">us_create_socket_context</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *<a class="code hl_variable" href="../../dc/d0f/structus__socket__context__t.html#a78511320947ee07aa254ceca6d02e7bc">loop</a>, <span class="keywordtype">int</span> ext_size, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d4/dcc/libusockets_8h.html#d1/de0/structus__socket__context__options__t">us_socket_context_options_t</a> options);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Delete resources allocated at creation time. */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/dfa/context_8c.html#afdd76b1b8db420b82a886f65879e5449">us_socket_context_free</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *context);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Setters of various async callbacks */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/dfa/context_8c.html#afa4dccbe5ed561a5d64a59e6cd415fb4">us_socket_context_on_open</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *context, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *(*<a class="code hl_variable" href="../../dc/d0f/structus__socket__context__t.html#adfafadf6d0190e1f0809b8b845b577f0">on_open</a>)(<span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s, <span class="keywordtype">int</span> is_client, <span class="keywordtype">char</span> *ip, <span class="keywordtype">int</span> ip_length));</div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/dfa/context_8c.html#aa5331ecd40c0c825c9b8cb9039b0fd60">us_socket_context_on_close</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *context, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *(*<a class="code hl_variable" href="../../dc/d0f/structus__socket__context__t.html#a4708bbe88c10e1368d5314fc64774ff3">on_close</a>)(<span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s));</div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/dfa/context_8c.html#a484721d0db0c4e3e4882e2d11c301097">us_socket_context_on_data</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *context, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *(*<a class="code hl_variable" href="../../dc/d0f/structus__socket__context__t.html#a8538f72a13904991ff0c7b466099436f">on_data</a>)(<span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s, <span class="keywordtype">char</span> *data, <span class="keywordtype">int</span> length));</div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/dfa/context_8c.html#a60cf6d610773c7ae9eec9a5d4512dd51">us_socket_context_on_writable</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *context, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *(*<a class="code hl_variable" href="../../dc/d0f/structus__socket__context__t.html#ad4d7bb284d6fc10452045c44a9c2a187">on_writable</a>)(<span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s));</div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/dfa/context_8c.html#a655dc0d78ef05fa99ff4888eee2cc9af">us_socket_context_on_timeout</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *context, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *(*on_timeout)(<span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s));</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Emitted when a socket has been half-closed */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/dfa/context_8c.html#afc253acbf382936845c9e8029290b3f6">us_socket_context_on_end</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *context, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *(*<a class="code hl_variable" href="../../dc/d0f/structus__socket__context__t.html#a11218651b72a9c9aca50ebb1c73fdda1">on_end</a>)(<span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s));</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Returns user data extension for this socket context */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> *<a class="code hl_function" href="../../d8/dfa/context_8c.html#aba903911c61a3de072eba29ed44cd83c">us_socket_context_ext</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *context);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Listen for connections. Acts as the main driving cog in a server. Will call set async callbacks. */</span></div>
<div class="line">WIN32_EXPORT <span class="keyword">struct </span><a class="code hl_struct" href="../../db/dde/internal_8h.html#d4/d1d/structus__listen__socket__t">us_listen_socket_t</a> *<a class="code hl_function" href="../../d8/dfa/context_8c.html#a0fb3e0d6b555a038b1581251d87624b9">us_socket_context_listen</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *context, <span class="keyword">const</span> <span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> port, <span class="keywordtype">int</span> options, <span class="keywordtype">int</span> <a class="code hl_variable" href="../../db/dde/internal_8h.html#ad21c294deb365cbc005947f25e098525">socket_ext_size</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* listen_socket.c/.h */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/dfa/context_8c.html#a87ab415e3cf9f0057b3cd7269c5aa1d7">us_listen_socket_close</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d4/d1d/structus__listen__socket__t">us_listen_socket_t</a> *ls);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Land in on_open or on_close or return null or return socket */</span></div>
<div class="line">WIN32_EXPORT <span class="keyword">struct </span><a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *<a class="code hl_function" href="../../d8/dfa/context_8c.html#a3b21420bf79a81056720dcb01b8df1f4">us_socket_context_connect</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *<a class="code hl_variable" href="../../db/dde/internal_8h.html#aa3b3bff9d2657ef337325a4b7bcaabc9">context</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *host, <span class="keywordtype">int</span> port, <span class="keywordtype">int</span> options, <span class="keywordtype">int</span> socket_ext_size);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Returns the loop for this socket context. */</span></div>
<div class="line">WIN32_EXPORT <span class="keyword">struct </span><a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *<a class="code hl_function" href="../../d8/dfa/context_8c.html#a75f23f255788e89baa500d4432d57482">us_socket_context_loop</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *context);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Invalidates passed socket, returning a new resized socket which belongs to a different socket context.</span></div>
<div class="line"><span class="comment"> * Used mainly for &quot;socket upgrades&quot; such as when transitioning from HTTP to WebSocket. */</span></div>
<div class="line">WIN32_EXPORT <span class="keyword">struct </span><a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *<a class="code hl_function" href="../../d8/dfa/context_8c.html#aa1b2811093133cfea55e11bea88fa82c">us_socket_context_adopt_socket</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *<a class="code hl_variable" href="../../db/dde/internal_8h.html#aa3b3bff9d2657ef337325a4b7bcaabc9">context</a>, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s, <span class="keywordtype">int</span> ext_size);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Create a child socket context which acts much like its own socket context with its own callbacks yet still relies on the</span></div>
<div class="line"><span class="comment"> * parent socket context for some shared resources. Child socket contexts should be used together with socket adoptions and nothing else. */</span></div>
<div class="line">WIN32_EXPORT <span class="keyword">struct </span><a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *<a class="code hl_function" href="../../d8/dfa/context_8c.html#a5d08ec2371cd79c709a20d20101c1601">us_create_child_socket_context</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *context, <span class="keywordtype">int</span> context_ext_size);</div>
<div class="ttc" id="acontext_8c_html_a0fb3e0d6b555a038b1581251d87624b9"><div class="ttname"><a href="../../d8/dfa/context_8c.html#a0fb3e0d6b555a038b1581251d87624b9">us_socket_context_listen</a></div><div class="ttdeci">struct us_listen_socket_t * us_socket_context_listen(int ssl, struct us_socket_context_t *context, const char *host, int port, int options, int socket_ext_size)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00248">context.c:248</a></div></div>
<div class="ttc" id="acontext_8c_html_a3b21420bf79a81056720dcb01b8df1f4"><div class="ttname"><a href="../../d8/dfa/context_8c.html#a3b21420bf79a81056720dcb01b8df1f4">us_socket_context_connect</a></div><div class="ttdeci">struct us_socket_t * us_socket_context_connect(int ssl, struct us_socket_context_t *context, const char *host, int port, const char *source_host, int options, int socket_ext_size)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00310">context.c:310</a></div></div>
<div class="ttc" id="acontext_8c_html_a484721d0db0c4e3e4882e2d11c301097"><div class="ttname"><a href="../../d8/dfa/context_8c.html#a484721d0db0c4e3e4882e2d11c301097">us_socket_context_on_data</a></div><div class="ttdeci">void us_socket_context_on_data(int ssl, struct us_socket_context_t *context, struct us_socket_t *(*on_data)(struct us_socket_t *s, char *data, int length))</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00437">context.c:437</a></div></div>
<div class="ttc" id="acontext_8c_html_a5d08ec2371cd79c709a20d20101c1601"><div class="ttname"><a href="../../d8/dfa/context_8c.html#a5d08ec2371cd79c709a20d20101c1601">us_create_child_socket_context</a></div><div class="ttdeci">struct us_socket_context_t * us_create_child_socket_context(int ssl, struct us_socket_context_t *context, int context_ext_size)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00368">context.c:368</a></div></div>
<div class="ttc" id="acontext_8c_html_a60cf6d610773c7ae9eec9a5d4512dd51"><div class="ttname"><a href="../../d8/dfa/context_8c.html#a60cf6d610773c7ae9eec9a5d4512dd51">us_socket_context_on_writable</a></div><div class="ttdeci">void us_socket_context_on_writable(int ssl, struct us_socket_context_t *context, struct us_socket_t *(*on_writable)(struct us_socket_t *s))</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00448">context.c:448</a></div></div>
<div class="ttc" id="acontext_8c_html_a655dc0d78ef05fa99ff4888eee2cc9af"><div class="ttname"><a href="../../d8/dfa/context_8c.html#a655dc0d78ef05fa99ff4888eee2cc9af">us_socket_context_on_timeout</a></div><div class="ttdeci">void us_socket_context_on_timeout(int ssl, struct us_socket_context_t *context, struct us_socket_t *(*on_timeout)(struct us_socket_t *))</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00470">context.c:470</a></div></div>
<div class="ttc" id="acontext_8c_html_a75f23f255788e89baa500d4432d57482"><div class="ttname"><a href="../../d8/dfa/context_8c.html#a75f23f255788e89baa500d4432d57482">us_socket_context_loop</a></div><div class="ttdeci">struct us_loop_t * us_socket_context_loop(int ssl, struct us_socket_context_t *context)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00131">context.c:131</a></div></div>
<div class="ttc" id="acontext_8c_html_a87ab415e3cf9f0057b3cd7269c5aa1d7"><div class="ttname"><a href="../../d8/dfa/context_8c.html#a87ab415e3cf9f0057b3cd7269c5aa1d7">us_listen_socket_close</a></div><div class="ttdeci">void us_listen_socket_close(int ssl, struct us_listen_socket_t *ls)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00033">context.c:33</a></div></div>
<div class="ttc" id="acontext_8c_html_aa1b2811093133cfea55e11bea88fa82c"><div class="ttname"><a href="../../d8/dfa/context_8c.html#aa1b2811093133cfea55e11bea88fa82c">us_socket_context_adopt_socket</a></div><div class="ttdeci">struct us_socket_t * us_socket_context_adopt_socket(int ssl, struct us_socket_context_t *context, struct us_socket_t *s, int ext_size)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00381">context.c:381</a></div></div>
<div class="ttc" id="acontext_8c_html_aa5331ecd40c0c825c9b8cb9039b0fd60"><div class="ttname"><a href="../../d8/dfa/context_8c.html#aa5331ecd40c0c825c9b8cb9039b0fd60">us_socket_context_on_close</a></div><div class="ttdeci">void us_socket_context_on_close(int ssl, struct us_socket_context_t *context, struct us_socket_t *(*on_close)(struct us_socket_t *s, int code, void *reason))</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00426">context.c:426</a></div></div>
<div class="ttc" id="acontext_8c_html_aba903911c61a3de072eba29ed44cd83c"><div class="ttname"><a href="../../d8/dfa/context_8c.html#aba903911c61a3de072eba29ed44cd83c">us_socket_context_ext</a></div><div class="ttdeci">void * us_socket_context_ext(int ssl, struct us_socket_context_t *context)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00503">context.c:503</a></div></div>
<div class="ttc" id="acontext_8c_html_ac44f024cc626be2ff36816561740ea83"><div class="ttname"><a href="../../d8/dfa/context_8c.html#ac44f024cc626be2ff36816561740ea83">us_create_socket_context</a></div><div class="ttdeci">struct us_socket_context_t * us_create_socket_context(int ssl, struct us_loop_t *loop, int context_ext_size, struct us_socket_context_options_t options)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00202">context.c:202</a></div></div>
<div class="ttc" id="acontext_8c_html_afa4dccbe5ed561a5d64a59e6cd415fb4"><div class="ttname"><a href="../../d8/dfa/context_8c.html#afa4dccbe5ed561a5d64a59e6cd415fb4">us_socket_context_on_open</a></div><div class="ttdeci">void us_socket_context_on_open(int ssl, struct us_socket_context_t *context, struct us_socket_t *(*on_open)(struct us_socket_t *s, int is_client, char *ip, int ip_length))</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00415">context.c:415</a></div></div>
<div class="ttc" id="acontext_8c_html_afc253acbf382936845c9e8029290b3f6"><div class="ttname"><a href="../../d8/dfa/context_8c.html#afc253acbf382936845c9e8029290b3f6">us_socket_context_on_end</a></div><div class="ttdeci">void us_socket_context_on_end(int ssl, struct us_socket_context_t *context, struct us_socket_t *(*on_end)(struct us_socket_t *))</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00481">context.c:481</a></div></div>
<div class="ttc" id="acontext_8c_html_afdd76b1b8db420b82a886f65879e5449"><div class="ttname"><a href="../../d8/dfa/context_8c.html#afdd76b1b8db420b82a886f65879e5449">us_socket_context_free</a></div><div class="ttdeci">void us_socket_context_free(int ssl, struct us_socket_context_t *context)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dfa/context_8c_source.html#l00232">context.c:232</a></div></div>
<div class="ttc" id="ainternal_8h_html_aa3b3bff9d2657ef337325a4b7bcaabc9"><div class="ttname"><a href="../../db/dde/internal_8h.html#aa3b3bff9d2657ef337325a4b7bcaabc9">us_socket_t::context</a></div><div class="ttdeci">struct us_socket_context_t * context</div><div class="ttdef"><b>Definition</b> <a href="../../db/dde/internal_8h_source.html#l00094">internal.h:94</a></div></div>
<div class="ttc" id="ainternal_8h_html_ad21c294deb365cbc005947f25e098525"><div class="ttname"><a href="../../db/dde/internal_8h.html#ad21c294deb365cbc005947f25e098525">us_listen_socket_t::socket_ext_size</a></div><div class="ttdeci">unsigned int socket_ext_size</div><div class="ttdef"><b>Definition</b> <a href="../../db/dde/internal_8h_source.html#l00110">internal.h:110</a></div></div>
<div class="ttc" id="ainternal_8h_html_d4/d1d/structus__listen__socket__t"><div class="ttname"><a href="../../db/dde/internal_8h.html#d4/d1d/structus__listen__socket__t">us_listen_socket_t</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/dde/internal_8h_source.html#l00108">internal.h:108</a></div></div>
<div class="ttc" id="ainternal_8h_html_d6/df9/structus__socket__t"><div class="ttname"><a href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/dde/internal_8h_source.html#l00089">internal.h:89</a></div></div>
<div class="ttc" id="alibusockets_8h_html_a36c49d10c3039966a79d69ac9c2882e5"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a36c49d10c3039966a79d69ac9c2882e5">us_socket_context_options_t::ssl_prefer_low_memory_usage</a></div><div class="ttdeci">int ssl_prefer_low_memory_usage</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcc/libusockets_8h_source.html#l00131">libusockets.h:131</a></div></div>
<div class="ttc" id="alibusockets_8h_html_a7c598eaa02a38fd5aaeb6367db429dc8"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a7c598eaa02a38fd5aaeb6367db429dc8">us_socket_context_options_t::ssl_ciphers</a></div><div class="ttdeci">const char * ssl_ciphers</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcc/libusockets_8h_source.html#l00130">libusockets.h:130</a></div></div>
<div class="ttc" id="alibusockets_8h_html_a84deb7922916f0bc2c0c5e63a07cc7bb"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a84deb7922916f0bc2c0c5e63a07cc7bb">us_socket_context_options_t::ca_file_name</a></div><div class="ttdeci">const char * ca_file_name</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcc/libusockets_8h_source.html#l00129">libusockets.h:129</a></div></div>
<div class="ttc" id="alibusockets_8h_html_a8b04b29aca965ebc89b7f4cdbf0fc5c9"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a8b04b29aca965ebc89b7f4cdbf0fc5c9">us_socket_context_options_t::cert_file_name</a></div><div class="ttdeci">const char * cert_file_name</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcc/libusockets_8h_source.html#l00126">libusockets.h:126</a></div></div>
<div class="ttc" id="alibusockets_8h_html_aa644b50a71a40edf419452be6f103cde"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#aa644b50a71a40edf419452be6f103cde">us_socket_context_options_t::passphrase</a></div><div class="ttdeci">const char * passphrase</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcc/libusockets_8h_source.html#l00127">libusockets.h:127</a></div></div>
<div class="ttc" id="alibusockets_8h_html_aa66cc5cf9cf35ac6ea4f56180419aea0"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#aa66cc5cf9cf35ac6ea4f56180419aea0">us_socket_context_options_t::dh_params_file_name</a></div><div class="ttdeci">const char * dh_params_file_name</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcc/libusockets_8h_source.html#l00128">libusockets.h:128</a></div></div>
<div class="ttc" id="alibusockets_8h_html_abc39444073939f7a20fdbff4553379cb"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#abc39444073939f7a20fdbff4553379cb">us_socket_context_options_t::key_file_name</a></div><div class="ttdeci">const char * key_file_name</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcc/libusockets_8h_source.html#l00125">libusockets.h:125</a></div></div>
<div class="ttc" id="alibusockets_8h_html_d1/de0/structus__socket__context__options__t"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#d1/de0/structus__socket__context__options__t">us_socket_context_options_t</a></div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcc/libusockets_8h_source.html#l00124">libusockets.h:124</a></div></div>
<div class="ttc" id="astructus__socket__context__t_html"><div class="ttname"><a href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a></div><div class="ttdef"><b>Definition</b> <a href="../../db/dde/internal_8h_source.html#l00117">internal.h:117</a></div></div>
<div class="ttc" id="astructus__socket__context__t_html_a11218651b72a9c9aca50ebb1c73fdda1"><div class="ttname"><a href="../../dc/d0f/structus__socket__context__t.html#a11218651b72a9c9aca50ebb1c73fdda1">us_socket_context_t::on_end</a></div><div class="ttdeci">struct us_socket_t *(* on_end)(struct us_socket_t *)</div><div class="ttdef"><b>Definition</b> <a href="../../db/dde/internal_8h_source.html#l00125">internal.h:134</a></div></div>
<div class="ttc" id="astructus__socket__context__t_html_a4708bbe88c10e1368d5314fc64774ff3"><div class="ttname"><a href="../../dc/d0f/structus__socket__context__t.html#a4708bbe88c10e1368d5314fc64774ff3">us_socket_context_t::on_close</a></div><div class="ttdeci">struct us_socket_t *(* on_close)(struct us_socket_t *, int code, void *reason)</div><div class="ttdef"><b>Definition</b> <a href="../../db/dde/internal_8h_source.html#l00125">internal.h:130</a></div></div>
<div class="ttc" id="astructus__socket__context__t_html_a78511320947ee07aa254ceca6d02e7bc"><div class="ttname"><a href="../../dc/d0f/structus__socket__context__t.html#a78511320947ee07aa254ceca6d02e7bc">us_socket_context_t::loop</a></div><div class="ttdeci">struct us_loop_t * loop</div><div class="ttdef"><b>Definition</b> <a href="../../db/dde/internal_8h_source.html#l00118">internal.h:118</a></div></div>
<div class="ttc" id="astructus__socket__context__t_html_a8538f72a13904991ff0c7b466099436f"><div class="ttname"><a href="../../dc/d0f/structus__socket__context__t.html#a8538f72a13904991ff0c7b466099436f">us_socket_context_t::on_data</a></div><div class="ttdeci">struct us_socket_t *(* on_data)(struct us_socket_t *, char *data, int length)</div><div class="ttdef"><b>Definition</b> <a href="../../db/dde/internal_8h_source.html#l00125">internal.h:128</a></div></div>
<div class="ttc" id="astructus__socket__context__t_html_ad4d7bb284d6fc10452045c44a9c2a187"><div class="ttname"><a href="../../dc/d0f/structus__socket__context__t.html#ad4d7bb284d6fc10452045c44a9c2a187">us_socket_context_t::on_writable</a></div><div class="ttdeci">struct us_socket_t *(* on_writable)(struct us_socket_t *)</div><div class="ttdef"><b>Definition</b> <a href="../../db/dde/internal_8h_source.html#l00125">internal.h:129</a></div></div>
<div class="ttc" id="astructus__socket__context__t_html_adfafadf6d0190e1f0809b8b845b577f0"><div class="ttname"><a href="../../dc/d0f/structus__socket__context__t.html#adfafadf6d0190e1f0809b8b845b577f0">us_socket_context_t::on_open</a></div><div class="ttdeci">struct us_socket_t *(* on_open)(struct us_socket_t *, int is_client, char *ip, int ip_length)</div><div class="ttdef"><b>Definition</b> <a href="../../db/dde/internal_8h_source.html#l00125">internal.h:127</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5"></a>
us_socket_t - The network connection (SSL or non-SSL)</h1>
<div class="fragment"><div class="line"><span class="comment">/* Write up to length bytes of data. Returns actual bytes written. Will call the on_writable callback of active socket context on failure to write everything off in one go.</span></div>
<div class="line"><span class="comment"> * Set hint msg_more if you have more immediate data to write. */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">int</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a1d09da6cf5fb2aebf1d96ed1e2cdf44b">us_socket_write</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s, <span class="keyword">const</span> <span class="keywordtype">char</span> *data, <span class="keywordtype">int</span> length, <span class="keywordtype">int</span> msg_more);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Set a low precision, high performance timer on a socket. A socket can only have one single active timer at any given point in time. Will remove any such pre set timer */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#aca358bd40506ce6876986f8e7ee297d9">us_socket_timeout</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> seconds);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Return the user data extension of this socket */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> *<a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#aed74d9c63c2407258c8ba0955dbbe03f">us_socket_ext</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Return the socket context of this socket */</span></div>
<div class="line">WIN32_EXPORT <span class="keyword">struct </span><a class="code hl_struct" href="../../dc/d0f/structus__socket__context__t.html">us_socket_context_t</a> *<a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#aa7896c040bf7ce2b1bc2625d474a0945">us_socket_context</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Withdraw any msg_more status and flush any pending data */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a88b7ed2c1c6cb9805869b98ef9ec16e7">us_socket_flush</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Shuts down the connection by sending FIN and/or close_notify */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a947979c60a08faefd6f86e0253210078">us_socket_shutdown</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Returns whether the socket has been shut down or not */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">int</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a4bd936fb0a987015bf32174cfed9b477">us_socket_is_shut_down</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Returns whether this socket has been closed. Only valid if memory has not yet been released. */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">int</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#af3bcc9962a47591755f47cc03d018247">us_socket_is_closed</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Immediately closes the socket */</span></div>
<div class="line">WIN32_EXPORT <span class="keyword">struct </span><a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *<a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#aa8f24daf83344aa36c7ce52099db681b">us_socket_close</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Copy remote (IP) address of socket, or fail with zero length. */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a1955f9717aeea21daa7437a2583fb6dc">us_socket_remote_address</a>(<span class="keywordtype">int</span> ssl, <span class="keyword">struct</span> <a class="code hl_struct" href="../../db/dde/internal_8h.html#d6/df9/structus__socket__t">us_socket_t</a> *s, <span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> *length);</div>
<div class="ttc" id="alibusockets_8h_html_a1955f9717aeea21daa7437a2583fb6dc"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a1955f9717aeea21daa7437a2583fb6dc">us_socket_remote_address</a></div><div class="ttdeci">void us_socket_remote_address(int ssl, struct us_socket_t *s, char *buf, int *length)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df8/socket_8c_source.html#l00040">socket.c:40</a></div></div>
<div class="ttc" id="alibusockets_8h_html_a1d09da6cf5fb2aebf1d96ed1e2cdf44b"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a1d09da6cf5fb2aebf1d96ed1e2cdf44b">us_socket_write</a></div><div class="ttdeci">int us_socket_write(int ssl, struct us_socket_t *s, const char *data, int length, int msg_more)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df8/socket_8c_source.html#l00147">socket.c:147</a></div></div>
<div class="ttc" id="alibusockets_8h_html_a4bd936fb0a987015bf32174cfed9b477"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a4bd936fb0a987015bf32174cfed9b477">us_socket_is_shut_down</a></div><div class="ttdeci">int us_socket_is_shut_down(int ssl, struct us_socket_t *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df8/socket_8c_source.html#l00177">socket.c:177</a></div></div>
<div class="ttc" id="alibusockets_8h_html_a88b7ed2c1c6cb9805869b98ef9ec16e7"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a88b7ed2c1c6cb9805869b98ef9ec16e7">us_socket_flush</a></div><div class="ttdeci">void us_socket_flush(int ssl, struct us_socket_t *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df8/socket_8c_source.html#l00070">socket.c:70</a></div></div>
<div class="ttc" id="alibusockets_8h_html_a947979c60a08faefd6f86e0253210078"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a947979c60a08faefd6f86e0253210078">us_socket_shutdown</a></div><div class="ttdeci">void us_socket_shutdown(int ssl, struct us_socket_t *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df8/socket_8c_source.html#l00187">socket.c:187</a></div></div>
<div class="ttc" id="alibusockets_8h_html_aa7896c040bf7ce2b1bc2625d474a0945"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#aa7896c040bf7ce2b1bc2625d474a0945">us_socket_context</a></div><div class="ttdeci">struct us_socket_context_t * us_socket_context(int ssl, struct us_socket_t *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df8/socket_8c_source.html#l00050">socket.c:50</a></div></div>
<div class="ttc" id="alibusockets_8h_html_aa8f24daf83344aa36c7ce52099db681b"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#aa8f24daf83344aa36c7ce52099db681b">us_socket_close</a></div><div class="ttdeci">struct us_socket_t * us_socket_close(int ssl, struct us_socket_t *s, int code, void *reason)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df8/socket_8c_source.html#l00105">socket.c:105</a></div></div>
<div class="ttc" id="alibusockets_8h_html_aca358bd40506ce6876986f8e7ee297d9"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#aca358bd40506ce6876986f8e7ee297d9">us_socket_timeout</a></div><div class="ttdeci">void us_socket_timeout(int ssl, struct us_socket_t *s, unsigned int seconds)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df8/socket_8c_source.html#l00054">socket.c:54</a></div></div>
<div class="ttc" id="alibusockets_8h_html_aed74d9c63c2407258c8ba0955dbbe03f"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#aed74d9c63c2407258c8ba0955dbbe03f">us_socket_ext</a></div><div class="ttdeci">void * us_socket_ext(int ssl, struct us_socket_t *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df8/socket_8c_source.html#l00167">socket.c:167</a></div></div>
<div class="ttc" id="alibusockets_8h_html_af3bcc9962a47591755f47cc03d018247"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#af3bcc9962a47591755f47cc03d018247">us_socket_is_closed</a></div><div class="ttdeci">int us_socket_is_closed(int ssl, struct us_socket_t *s)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df8/socket_8c_source.html#l00076">socket.c:76</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md6"></a>
Low level components</h1>
<h2><a class="anchor" id="autotoc_md7"></a>
us_timer_t - High cost (very expensive resource) timers</h2>
<p><b>NOTE:</b> Many slow servers use one timer per socket. That is incredibly inefficient and so uSockets will only use one single us_timer_t per every one <a class="el" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a>. A similar design is utilized in the Linux kernel and is how you should think of timers yourself.</p>
<div class="fragment"><div class="line"><span class="comment">/* Create a new high precision, low performance timer. May fail and return null */</span></div>
<div class="line">WIN32_EXPORT <span class="keyword">struct </span>us_timer_t *<a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a068ab823e9baec4e2197ad5ed6ee41b7">us_create_timer</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop, <span class="keywordtype">int</span> fallthrough, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ext_size);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Returns user data extension for this timer */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> *<a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#ac97fd4cae0b11b59e07d22581cdcdec2">us_timer_ext</a>(<span class="keyword">struct</span> us_timer_t *timer);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a9a2b414ed966928d0cb226a4ee44d09f">us_timer_close</a>(<span class="keyword">struct</span> us_timer_t *timer);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Arm a timer with a delay from now and eventually a repeat delay.</span></div>
<div class="line"><span class="comment"> * Specify 0 as repeat delay to disable repeating. Specify both 0 to disarm. */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#ae253d31d83515d5e7aed11b280401d41">us_timer_set</a>(<span class="keyword">struct</span> us_timer_t *timer, <span class="keywordtype">void</span> (*cb)(<span class="keyword">struct</span> us_timer_t *t), <span class="keywordtype">int</span> ms, <span class="keywordtype">int</span> repeat_ms);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Returns the loop for this timer */</span></div>
<div class="line">WIN32_EXPORT <span class="keyword">struct </span><a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *<a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a88f50d37bd621b62c5accd7c78cbf035">us_timer_loop</a>(<span class="keyword">struct</span> us_timer_t *t);</div>
<div class="ttc" id="alibusockets_8h_html_a068ab823e9baec4e2197ad5ed6ee41b7"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a068ab823e9baec4e2197ad5ed6ee41b7">us_create_timer</a></div><div class="ttdeci">struct us_timer_t * us_create_timer(struct us_loop_t *loop, int fallthrough, unsigned int ext_size)</div></div>
<div class="ttc" id="alibusockets_8h_html_a88f50d37bd621b62c5accd7c78cbf035"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a88f50d37bd621b62c5accd7c78cbf035">us_timer_loop</a></div><div class="ttdeci">struct us_loop_t * us_timer_loop(struct us_timer_t *t)</div></div>
<div class="ttc" id="alibusockets_8h_html_a9a2b414ed966928d0cb226a4ee44d09f"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a9a2b414ed966928d0cb226a4ee44d09f">us_timer_close</a></div><div class="ttdeci">void us_timer_close(struct us_timer_t *timer)</div></div>
<div class="ttc" id="alibusockets_8h_html_ac97fd4cae0b11b59e07d22581cdcdec2"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#ac97fd4cae0b11b59e07d22581cdcdec2">us_timer_ext</a></div><div class="ttdeci">void * us_timer_ext(struct us_timer_t *timer)</div></div>
<div class="ttc" id="alibusockets_8h_html_ae253d31d83515d5e7aed11b280401d41"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#ae253d31d83515d5e7aed11b280401d41">us_timer_set</a></div><div class="ttdeci">void us_timer_set(struct us_timer_t *timer, void(*cb)(struct us_timer_t *t), int ms, int repeat_ms)</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md8"></a>
us_poll_t - The eventing foundation of a socket or anything that has a file descriptor</h2>
<div class="fragment"><div class="line"><span class="comment">/* A fallthrough poll does not keep the loop running, it falls through */</span></div>
<div class="line">WIN32_EXPORT <span class="keyword">struct </span><a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#d7/d87/structus__poll__t">us_poll_t</a> *<a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a31111fdc90f9fe4546af414638048694">us_create_poll</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop, <span class="keywordtype">int</span> fallthrough, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ext_size);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* After stopping a poll you must manually free the memory */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#aaa8b7c4bc4bd3dad5c923f65f5b6bf22">us_poll_free</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#d7/d87/structus__poll__t">us_poll_t</a> *p, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Associate this poll with a socket descriptor and poll type */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a220d7dfe6c50d4ef1f0ed594e6f932ed">us_poll_init</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#d7/d87/structus__poll__t">us_poll_t</a> *p, <a class="code hl_define" href="../../d4/dcc/libusockets_8h.html#a2d52ac839fa25facea97e1740577ebb8">LIBUS_SOCKET_DESCRIPTOR</a> <a class="code hl_variable" href="../../d0/ddc/libuv_8h.html#a3d8de1692893cf54785699ac740e57bd">fd</a>, <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d0/ddc/libuv_8h.html#ac5afecf201ec68a1635fa20c2a6a6c6b">poll_type</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Start, change and stop polling for events */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#ada8af05a36d8ecce840b18e77036353f">us_poll_start</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#d7/d87/structus__poll__t">us_poll_t</a> *p, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop, <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d0/ddc/libuv_8h.html#a4e427efb4040550b803f096bfad80824">events</a>);</div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a3476de011ee6bdc9c3297cceb87733f2">us_poll_change</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#d7/d87/structus__poll__t">us_poll_t</a> *p, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop, <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d0/ddc/libuv_8h.html#a4e427efb4040550b803f096bfad80824">events</a>);</div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a63b06627a45548bf0f159ceecef8acd7">us_poll_stop</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#d7/d87/structus__poll__t">us_poll_t</a> *p, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Return what events we are polling for */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">int</span> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a4fd16505fc877b6169c5f0d47a27185e">us_poll_events</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#d7/d87/structus__poll__t">us_poll_t</a> *p);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Returns the user data extension of this poll */</span></div>
<div class="line">WIN32_EXPORT <span class="keywordtype">void</span> *<a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a9c73b3ecd6515cb9704ec44328ed85af">us_poll_ext</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#d7/d87/structus__poll__t">us_poll_t</a> *p);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Get associated socket descriptor from a poll */</span></div>
<div class="line">WIN32_EXPORT <a class="code hl_define" href="../../d4/dcc/libusockets_8h.html#a2d52ac839fa25facea97e1740577ebb8">LIBUS_SOCKET_DESCRIPTOR</a> <a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a442b8a40f50d68abe9877c51a615ce7d">us_poll_fd</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#d7/d87/structus__poll__t">us_poll_t</a> *p);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Resize an active poll */</span></div>
<div class="line">WIN32_EXPORT <span class="keyword">struct </span><a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#d7/d87/structus__poll__t">us_poll_t</a> *<a class="code hl_function" href="../../d4/dcc/libusockets_8h.html#a39686e19e6c638ab0f525916071745ae">us_poll_resize</a>(<span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#d7/d87/structus__poll__t">us_poll_t</a> *p, <span class="keyword">struct</span> <a class="code hl_struct" href="../../d0/ddc/libuv_8h.html#db/d76/structus__loop__t">us_loop_t</a> *loop, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ext_size);</div>
<div class="ttc" id="alibusockets_8h_html_a220d7dfe6c50d4ef1f0ed594e6f932ed"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a220d7dfe6c50d4ef1f0ed594e6f932ed">us_poll_init</a></div><div class="ttdeci">void us_poll_init(struct us_poll_t *p, int fd, int poll_type)</div></div>
<div class="ttc" id="alibusockets_8h_html_a2d52ac839fa25facea97e1740577ebb8"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a2d52ac839fa25facea97e1740577ebb8">LIBUS_SOCKET_DESCRIPTOR</a></div><div class="ttdeci">#define LIBUS_SOCKET_DESCRIPTOR</div><div class="ttdef"><b>Definition</b> <a href="../../d4/dcc/libusockets_8h_source.html#l00038">libusockets.h:38</a></div></div>
<div class="ttc" id="alibusockets_8h_html_a31111fdc90f9fe4546af414638048694"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a31111fdc90f9fe4546af414638048694">us_create_poll</a></div><div class="ttdeci">struct us_poll_t * us_create_poll(struct us_loop_t *loop, int fallthrough, unsigned int ext_size)</div></div>
<div class="ttc" id="alibusockets_8h_html_a3476de011ee6bdc9c3297cceb87733f2"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a3476de011ee6bdc9c3297cceb87733f2">us_poll_change</a></div><div class="ttdeci">void us_poll_change(struct us_poll_t *p, struct us_loop_t *loop, int events)</div></div>
<div class="ttc" id="alibusockets_8h_html_a39686e19e6c638ab0f525916071745ae"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a39686e19e6c638ab0f525916071745ae">us_poll_resize</a></div><div class="ttdeci">struct us_poll_t * us_poll_resize(struct us_poll_t *p, struct us_loop_t *loop, unsigned int ext_size)</div></div>
<div class="ttc" id="alibusockets_8h_html_a442b8a40f50d68abe9877c51a615ce7d"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a442b8a40f50d68abe9877c51a615ce7d">us_poll_fd</a></div><div class="ttdeci">int us_poll_fd(struct us_poll_t *p)</div></div>
<div class="ttc" id="alibusockets_8h_html_a4fd16505fc877b6169c5f0d47a27185e"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a4fd16505fc877b6169c5f0d47a27185e">us_poll_events</a></div><div class="ttdeci">int us_poll_events(struct us_poll_t *p)</div></div>
<div class="ttc" id="alibusockets_8h_html_a63b06627a45548bf0f159ceecef8acd7"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a63b06627a45548bf0f159ceecef8acd7">us_poll_stop</a></div><div class="ttdeci">void us_poll_stop(struct us_poll_t *p, struct us_loop_t *loop)</div></div>
<div class="ttc" id="alibusockets_8h_html_a9c73b3ecd6515cb9704ec44328ed85af"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#a9c73b3ecd6515cb9704ec44328ed85af">us_poll_ext</a></div><div class="ttdeci">void * us_poll_ext(struct us_poll_t *p)</div></div>
<div class="ttc" id="alibusockets_8h_html_aaa8b7c4bc4bd3dad5c923f65f5b6bf22"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#aaa8b7c4bc4bd3dad5c923f65f5b6bf22">us_poll_free</a></div><div class="ttdeci">void us_poll_free(struct us_poll_t *p, struct us_loop_t *loop)</div></div>
<div class="ttc" id="alibusockets_8h_html_ada8af05a36d8ecce840b18e77036353f"><div class="ttname"><a href="../../d4/dcc/libusockets_8h.html#ada8af05a36d8ecce840b18e77036353f">us_poll_start</a></div><div class="ttdeci">void us_poll_start(struct us_poll_t *p, struct us_loop_t *loop, int events)</div></div>
<div class="ttc" id="alibuv_8h_html_a3d8de1692893cf54785699ac740e57bd"><div class="ttname"><a href="../../d0/ddc/libuv_8h.html#a3d8de1692893cf54785699ac740e57bd">us_poll_t::fd</a></div><div class="ttdeci">LIBUS_SOCKET_DESCRIPTOR fd</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d68/asio_8h_source.html#l00040">asio.h:40</a></div></div>
<div class="ttc" id="alibuv_8h_html_a4e427efb4040550b803f096bfad80824"><div class="ttname"><a href="../../d0/ddc/libuv_8h.html#a4e427efb4040550b803f096bfad80824">us_poll_t::events</a></div><div class="ttdeci">int events</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d68/asio_8h_source.html#l00042">asio.h:42</a></div></div>
<div class="ttc" id="alibuv_8h_html_ac5afecf201ec68a1635fa20c2a6a6c6b"><div class="ttname"><a href="../../d0/ddc/libuv_8h.html#ac5afecf201ec68a1635fa20c2a6a6c6b">us_poll_t::poll_type</a></div><div class="ttdeci">unsigned char poll_type</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d68/asio_8h_source.html#l00041">asio.h:41</a></div></div>
<div class="ttc" id="alibuv_8h_html_d7/d87/structus__poll__t"><div class="ttname"><a href="../../d0/ddc/libuv_8h.html#d7/d87/structus__poll__t">us_poll_t</a></div><div class="ttdef"><b>Definition</b> <a href="../../d4/d68/asio_8h_source.html#l00037">asio.h:37</a></div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Sep 4 2025 01:57:37 for maph by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
